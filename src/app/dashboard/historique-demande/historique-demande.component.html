<h2>Historique des demandes</h2>

<div nz-row>

  <button nz-button nzBlock nzType="primary" style="margin-bottom: 10px">
    <a [routerLink]="['/dashboard/nouvelle-demande']"> Faire une nouvelle demande </a>
  </button>

  <nz-table #sortTable [nzData]="listOfDisplayData" nzTableLayout="fixed" [nzPageSize]="5">
    <thead>
    <tr>
      <th *ngFor="let column of listOfColumn" [nzSortFn]="column.sortFn">
        {{ column.title }}


      </th>

      <th> Détails</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of sortTable.data">

      <td>{{ data.produit.numSerie }}</td>
      <td>{{ data.gamme?.libelle }}</td>
      <td>{{ data.marque?.libelle }}</td>
      <td>{{ data.modele?.libelle }}</td>
      <td>{{ data.personne?.nom + ' ' + data.personne?.prenom }}</td>

      <td>
        <button (click)="openDrawer()" nz-button nzShape="circle" nzType="primary"><i nz-icon nzTheme="outline"
                                                                                           nzType="bars"></i>
        </button>

      </td>
    </tr>
    </tbody>
  </nz-table>
</div>


<nz-drawer [nzVisible]="visibleDrawer" [nzWidth]="640" [nzClosable]="false" (nzOnClose)="closeDrawer()">
  <ng-container *nzDrawerContent>
    <h2 class="title" style=" margin-bottom: 24px;"> DÉTAILS COMPLÉMENTAIRE </h2>

    <nz-descriptions [nzColumn]="2" nzTitle="Demandeur">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">Mamane ADJAME.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Date demande">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">04 mai 2021.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Validateur">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">Samuel BAKAYOKO.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Date Validation">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">05 mai 2021.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Gestionnaire">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">Pat DRAME.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Date sorti">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">05 mai 2021.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Destination">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">Comptabilité.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

    <nz-descriptions [nzColumn]="2" nzTitle="Date mise en service">
      <nz-descriptions-item nzTitle=" " [nzSpan]="2">18 mai 2021.</nz-descriptions-item>
    </nz-descriptions>
    <nz-divider></nz-divider>

  </ng-container>
</nz-drawer>


<!--<nz-modal
  (nzOnCancel)="handleCancelMiddle()"
  (nzOnOk)="handleOkMiddle()"
  [(nzVisible)]="isVisibleMiddle"
  nzCentered
  nzTitle="DETAILS"
>
  <ng-container *nzModalContent >

    <div nz-row>

      <div nz-col nzSpan="24">

        &lt;!&ndash;<nz-table #basicTable [nzData]="listOfDetail">
          <thead>
          <tr>
            <th>Demandeur</th>
            <th>Date demande</th>
            <th>Validateur</th>
            <th>Date Validation</th>
            <th>Gestionnaire</th>
            <th>Date sorti</th>
            <th>Destination</th>
            <th>Date mise en service</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of basicTable.data">
            <td>{{data.demandeur}}</td>
            <td>{{data.date_demande}}</td>
            <td>{{data.validateur}}</td>
            <td>{{data.date_Validation}}</td>
            <td>{{data.gestionnaire}}</td>
            <td>{{data.date_sorti}}</td>
            <td>{{data.destination}}</td>
            <td>{{data.date_service}}</td>
          </tr>
          </tbody>
        </nz-table>&ndash;&gt;

      </div>

    </div>



  </ng-container>
</nz-modal>-->
